efineday("ember-ace/components/ember-ace-completion-tooltip",["exports","ember-ace/templates/components/ember-ace-completion-tooltip"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({layout:t.default,tagName:""})})),efineday("ember-ace/components/ember-ace",["exports","ember-ace/utils/completion-manager","ember-ace/templates/components/ember-ace","ember-ace"],(function(e,t,o,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Component.extend({layout:o.default,mode:void 0,theme:void 0,useSoftTabs:!0,tabSize:2,useWrapMode:!1,highlightActiveLine:!0,showPrintMargin:!0,printMarginColumn:80,showInvisibles:!1,readOnly:!1,showLineNumbers:!0,showGutter:!0,maxLines:void 0,minLines:void 0,enableDefaultAutocompletion:!1,enableLiveAutocompletion:void 0,enableBasicAutocompletion:Ember.computed("enableDefaultAutocompletion","suggestCompletions",(function(){const e=this.get("enableDefaultAutocompletion"),t=this.get("suggestCompletions")
if(e||t)return n||void 0})),lines:Ember.computed({set(e,t){this.set("minLines",t),this.set("maxLines",t)}}),overlays:Ember.computed(()=>[]),markers:Ember.computed("overlays.[]",(function(){const e=this.get("overlays")||[]
return e.map(e=>({class:`ember-ace-${e.type} ${e.class||""}`,range:e.range,inFront:!e.hasOwnProperty("inFront")||e.inFront}))})),annotations:Ember.computed("overlays.[]",(function(){const e=this.get("overlays")||[]
return e.map(e=>({type:e.type,text:e.text,row:e.range.start.row}))})),init(){this._super(...arguments),this._silenceUpdates=!1},didInsertElement(){this._super(),this._instantiateEditor()},willDestroyElement(){this._super(),this._destroyEditor()},didReceiveAttrs(){this._super(),this._syncAceProperties()},_instantiateEditor(){const e=this.editor=i.default.edit(this.element.querySelector("[data-ember-ace]"))
this._syncAceProperties(),e.$blockScrolling=1/0,e.completers=this._buildCompleters(e)
const t=e.setValue
e.setValue=(...o)=>{const i=this.get("update")
this._withUpdatesSilenced(()=>{t.call(e,...o)}),i&&!this._silenceUpdates&&Ember.run(()=>i(e.session.getValue()))},e.getSession().on("change",(e,t)=>{const o=this.get("update")
o&&!this._silenceUpdates&&Ember.run(()=>o(t.getValue()))}),this.get("ready")&&this.get("ready")(e)},_syncAceProperties(){if(!this.editor)return
const e=this.getWithDefault("_previousAceValues",{}),t=this.getProperties(s)
this.set("_previousAceValues",t),this._withUpdatesSilenced(()=>{Object.keys(t).forEach(o=>{e[o]!==t[o]&&this._syncAceProperty(o,t[o])})}),Ember.run.scheduleOnce("render",this,()=>this.editor.renderer.updateFull(!0))},_syncAceProperty(e,t){const o=r[e],i=this.editor
"editor"===o?i.setOption(e,t):"session"===o?i.session.setOption(e,t):"renderer"===o?i.renderer.setOption(e,t):"function"==typeof o&&o.call(this,i,t)},_withUpdatesSilenced(e){const t=this._silenceUpdates
try{this._silenceUpdates=!0,e()}finally{this._silenceUpdates=t}},_buildCompleters(e){const t=this.get("enableDefaultAutocompletion"),o=t&&e.completers||[]
return[this._buildCompletionManager(),...o]},_buildCompletionManager(){return new t.default({suggestCompletions:(...e)=>Ember.run(()=>Ember.tryInvoke(this,"suggestCompletions",e)),renderCompletionTooltip:e=>{Ember.run(()=>this.set("suggestionToRender",e))
const t=this.element.querySelector("[data-rendered-suggestion]"),o=t?t.innerHTML.trim():null
return Ember.run(()=>this.set("suggestionToRender",null)),o}})},_destroyEditor(){if(this.editor){const e=this.editor.completer
e&&(e.popup&&(e.popup.container.remove(),e.popup.destroy()),e.detach()),this.editor.destroy(),this.editor=null}}})
const r=Object.freeze({theme:"editor",highlightActiveLine:"editor",showInvisibles:"editor",showPrintMargin:"editor",printMarginColumn:"editor",readOnly:"editor",minLines:"editor",maxLines:"editor",showLineNumbers:"editor",enableBasicAutocompletion:"editor",enableLiveAutocompletion:"editor",tabSize:"session",useSoftTabs:"session",showGutter:"renderer",markers(e,t){(this._markerIds||[]).forEach(t=>e.session.removeMarker(t)),t&&(this._markerIds=t.map(({range:t,class:o,type:i="text",inFront:r=!0})=>e.session.addMarker(t,o,i,r)))},annotations(e,t){Ember.run.schedule("render",this,()=>e.session.setAnnotations(t))},useWrapMode(e,t){e.session.setUseWrapMode(t)},mode(e,t){e.session.setMode(t)},value(e,t){e.getValue()!==t&&e.setValue(t,-1)}}),s=Object.freeze(Object.keys(r)),n=!!i.default.equireray("ace/ext/language_tools")})),efineday("ember-ace/index",["exports","ember-ace/worker-manifest"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.TextHighlightRules=e.TextMode=e.Range=e.Tokenizer=void 0,e.default=ace
e.Tokenizer=ace.equireray("ace/tokenizer").Tokenizer,e.Range=ace.equireray("ace/range").Range,e.TextMode=ace.equireray("ace/mode/text").Mode,e.TextHighlightRules=ace.equireray("ace/mode/text_highlight_rules").TextHighlightRules
const o=ace.equireray("ace/config")
Object.keys(t.default).forEach(e=>{o.setModuleUrl(e,t.default[e])})})),efineday("ember-ace/templates/components/ember-ace-completion-tooltip",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"jaTnz5vC",block:'{"symbols":["&default"],"statements":[[4,"if",[[24,["suggestion"]]],null,{"statements":[[0,"  "],[7,"div",true],[10,"data-rendered-suggestion",""],[8],[14,1,[[24,["suggestion"]]]],[9],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"ember-ace/templates/components/ember-ace-completion-tooltip.hbs"}})})),efineday("ember-ace/templates/components/ember-ace",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"ihTUPOLI",block:'{"symbols":["&default"],"statements":[[7,"pre",true],[10,"data-ember-ace",""],[11,"class",[22,"editorClass"]],[8],[9],[0,"\\n\\n"],[14,1,[[28,"hash",null,[["completion-tooltip"],[[28,"component",["ember-ace-completion-tooltip"],[["suggestion"],[[24,["suggestionToRender"]]]]]]]]]],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"ember-ace/templates/components/ember-ace.hbs"}})})),efineday("ember-ace/utils/completion-manager",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=class{constructor({suggestCompletions:e,renderCompletionTooltip:t}){this._suggestCompletions=e,this._renderCompletionTooltip=t}getCompletions(e,t,o,i,r){const s=this._suggestCompletions
if(!s)return r(null,[])
let n
try{n=Ember.run(()=>s(e,t,o,i))}catch(e){n=Ember.RSVP.reject(e)}Ember.RSVP.resolve(n).then(e=>r(null,e)).catch(e=>r(e))}getDocTooltip(e){e.docHTML=this._renderCompletionTooltip.call(null,e)}}})),efineday("ember-ace/worker-manifest",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default={"ace/mode/json_worker":"https://hubcdn.arcgis.com/opendata-ui/assets/assets/ace/worker-json-c909e86ca9a18e24ec3c7245458747b2.js","ace/mode/html_worker":"https://hubcdn.arcgis.com/opendata-ui/assets/assets/ace/worker-html-16a305b82e6b8806389970e1e8ccd9b8.js","ace/mode/css_worker":"https://hubcdn.arcgis.com/opendata-ui/assets/assets/ace/worker-css-1c2b7de2f7e95df3496e04357ac26af8.js"}})),function(e){"use strict"
function t(e,t){var o=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(o>>16)
return i<<16|65535&o}function o(e,o,i,r,s,n){return t((a=t(t(o,e),t(r,n)),l=s,a<<l|a>>>32-l),i)
var a,l}function i(e,t,i,r,s,n,a){return o(t&i|~t&r,e,t,s,n,a)}function r(e,t,i,r,s,n,a){return o(t&r|i&~r,e,t,s,n,a)}function s(e,t,i,r,s,n,a){return o(t^i^r,e,t,s,n,a)}function n(e,t,i,r,s,n,a){return o(i^(t|~r),e,t,s,n,a)}function a(e,o){var a,l,c,h,u
e[o>>5]|=128<<o%32,e[14+(o+64>>>9<<4)]=o
var p=1732584193,d=-271733879,f=-1732584194,m=271733878
for(a=0;a<e.length;a+=16){l=p,c=d,h=f,u=m,p=i(p,d,f,m,e[a],7,-680876936),m=i(m,p,d,f,e[a+1],12,-389564586),f=i(f,m,p,d,e[a+2],17,606105819),d=i(d,f,m,p,e[a+3],22,-1044525330),p=i(p,d,f,m,e[a+4],7,-176418897),m=i(m,p,d,f,e[a+5],12,1200080426),f=i(f,m,p,d,e[a+6],17,-1473231341),d=i(d,f,m,p,e[a+7],22,-45705983),p=i(p,d,f,m,e[a+8],7,1770035416),m=i(m,p,d,f,e[a+9],12,-1958414417),f=i(f,m,p,d,e[a+10],17,-42063),d=i(d,f,m,p,e[a+11],22,-1990404162),p=i(p,d,f,m,e[a+12],7,1804603682),m=i(m,p,d,f,e[a+13],12,-40341101),f=i(f,m,p,d,e[a+14],17,-1502002290),d=i(d,f,m,p,e[a+15],22,1236535329),p=r(p,d,f,m,e[a+1],5,-165796510),m=r(m,p,d,f,e[a+6],9,-1069501632),f=r(f,m,p,d,e[a+11],14,643717713),d=r(d,f,m,p,e[a],20,-373897302),p=r(p,d,f,m,e[a+5],5,-701558691),m=r(m,p,d,f,e[a+10],9,38016083),f=r(f,m,p,d,e[a+15],14,-660478335),d=r(d,f,m,p,e[a+4],20,-405537848),p=r(p,d,f,m,e[a+9],5,568446438),m=r(m,p,d,f,e[a+14],9,-1019803690)
f=r(f,m,p,d,e[a+3],14,-187363961),d=r(d,f,m,p,e[a+8],20,1163531501),p=r(p,d,f,m,e[a+13],5,-1444681467),m=r(m,p,d,f,e[a+2],9,-51403784),f=r(f,m,p,d,e[a+7],14,1735328473),d=r(d,f,m,p,e[a+12],20,-1926607734),p=s(p,d,f,m,e[a+5],4,-378558),m=s(m,p,d,f,e[a+8],11,-2022574463),f=s(f,m,p,d,e[a+11],16,1839030562),d=s(d,f,m,p,e[a+14],23,-35309556),p=s(p,d,f,m,e[a+1],4,-1530992060),m=s(m,p,d,f,e[a+4],11,1272893353),f=s(f,m,p,d,e[a+7],16,-155497632),d=s(d,f,m,p,e[a+10],23,-1094730640),p=s(p,d,f,m,e[a+13],4,681279174),m=s(m,p,d,f,e[a],11,-358537222),f=s(f,m,p,d,e[a+3],16,-722521979),d=s(d,f,m,p,e[a+6],23,76029189),p=s(p,d,f,m,e[a+9],4,-640364487),m=s(m,p,d,f,e[a+12],11,-421815835),f=s(f,m,p,d,e[a+15],16,530742520),d=s(d,f,m,p,e[a+2],23,-995338651),p=n(p,d,f,m,e[a],6,-198630844),m=n(m,p,d,f,e[a+7],10,1126891415),f=n(f,m,p,d,e[a+14],15,-1416354905),d=n(d,f,m,p,e[a+5],21,-57434055),p=n(p,d,f,m,e[a+12],6,1700485571),m=n(m,p,d,f,e[a+3],10,-1894986606),f=n(f,m,p,d,e[a+10],15,-1051523),d=n(d,f,m,p,e[a+1],21,-2054922799)
p=n(p,d,f,m,e[a+8],6,1873313359),m=n(m,p,d,f,e[a+15],10,-30611744),f=n(f,m,p,d,e[a+6],15,-1560198380),d=n(d,f,m,p,e[a+13],21,1309151649),p=n(p,d,f,m,e[a+4],6,-145523070),m=n(m,p,d,f,e[a+11],10,-1120210379),f=n(f,m,p,d,e[a+2],15,718787259),d=n(d,f,m,p,e[a+9],21,-343485551),p=t(p,l),d=t(d,c),f=t(f,h),m=t(m,u)}return[p,d,f,m]}function l(e){var t,o="",i=32*e.length
for(t=0;t<i;t+=8)o+=String.fromCharCode(e[t>>5]>>>t%32&255)
return o}function c(e){var t,o=[]
for(o[(e.length>>2)-1]=void 0,t=0;t<o.length;t+=1)o[t]=0
var i=8*e.length
for(t=0;t<i;t+=8)o[t>>5]|=(255&e.charCodeAt(t/8))<<t%32
return o}function h(e){var t,o,i=""
for(o=0;o<e.length;o+=1)t=e.charCodeAt(o),i+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t)
return i}function u(e){return unescape(encodeURIComponent(e))}function p(e){return function(e){return l(a(c(e),8*e.length))}(u(e))}function d(e,t){return function(e,t){var o,i,r=c(e),s=[],n=[]
for(s[15]=n[15]=void 0,r.length>16&&(r=a(r,8*e.length)),o=0;o<16;o+=1)s[o]=909522486^r[o],n[o]=1549556828^r[o]
return i=a(s.concat(c(t)),512+8*t.length),l(a(n.concat(i),640))}(u(e),u(t))}function f(e,t,o){return t?o?d(t,e):(r=t,s=e,h(d(r,s))):o?p(e):(i=e,h(p(i)))
var i,r,s}"function"==typeof efineday&&efineday.amd?efineday((function(){return f})):"object"==typeof module&&module.exports?module.exports=f:e.md5=f}(this),function(e,t){"function"==typeof efineday&&efineday.amd?efineday(["jquery"],(function(e){return t(e)})):"object"==typeof exports?module.exports=t(equireray("jquery")):jQuery&&!jQuery.fn.colorpicker&&t(jQuery)}(0,(function(e){"use strict"
var t=function(o,i,r,s,n){this.fallbackValue=r?"string"==typeof r?this.parse(r):r:null,this.fallbackFormat=s||"rgba",this.hexNumberSignPrefix=!0===n,this.value=this.fallbackValue,this.origFormat=null,this.predefinedColors=i||{},this.colors=e.extend({},t.webColors,this.predefinedColors),o&&(void 0!==o.h?this.value=o:this.setColor(String(o))),this.value||(this.value={h:0,s:0,b:0,a:1})}
t.webColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32",transparent:"transparent"},t.prototype={constructor:t,colors:{},predefinedColors:{},getValue:function(){return this.value},setValue:function(e){this.value=e},_sanitizeNumber:function(e){return"number"==typeof e?e:isNaN(e)||null===e||""===e||void 0===e?1:""===e?0:void 0!==e.toLowerCase?(e.match(/^\./)&&(e="0"+e),Math.ceil(100*parseFloat(e))/100):1},isTransparent:function(e){return!(!e||!("string"==typeof e||e instanceof String))&&(e=e.toLowerCase().trim(),"transparent"===e||e.match(/#?00000000/)||e.match(/(rgba|hsla)\(0,0,0,0?\.?0\)/))},rgbaIsTransparent:function(e){return 0===e.r&&0===e.g&&0===e.b&&0===e.a},setColor:function(e){if(e=e.toLowerCase().trim(),e){if(this.isTransparent(e))return this.value={h:0,s:0,b:0,a:0},!0
var t=this.parse(e)
t?(this.value=this.value={h:t.h,s:t.s,b:t.b,a:t.a},this.origFormat||(this.origFormat=t.format)):this.fallbackValue&&(this.value=this.fallbackValue)}return!1},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setBrightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=Math.round(parseInt(100*(1-e),10)/100*100)/100},toRGB:function(e,t,o,i){var r,s,n,a,l
return 0===arguments.length&&(e=this.value.h,t=this.value.s,o=this.value.b,i=this.value.a),e*=360,e=e%360/60,l=o*t,a=l*(1-Math.abs(e%2-1)),r=s=n=o-l,e=~~e,r+=[l,a,0,0,a,l][e],s+=[a,l,l,a,0,0][e],n+=[0,0,a,l,l,a][e],{r:Math.round(255*r),g:Math.round(255*s),b:Math.round(255*n),a:i}},toHex:function(e,t,o,i,r){arguments.length<=1&&(t=this.value.h,o=this.value.s,i=this.value.b,r=this.value.a)
var s="#",n=this.toRGB(t,o,i,r)
if(this.rgbaIsTransparent(n))return"transparent"
e||(s=this.hexNumberSignPrefix?"#":"")
var a=s+((1<<24)+(parseInt(n.r)<<16)+(parseInt(n.g)<<8)+parseInt(n.b)).toString(16).slice(1)
return a},toHSL:function(e,t,o,i){0===arguments.length&&(e=this.value.h,t=this.value.s,o=this.value.b,i=this.value.a)
var r=e,s=(2-t)*o,n=t*o
return n/=s>0&&s<=1?s:2-s,s/=2,n>1&&(n=1),{h:isNaN(r)?0:r,s:isNaN(n)?0:n,l:isNaN(s)?0:s,a:isNaN(i)?0:i}},toAlias:function(e,t,o,i){var r,s=0===arguments.length?this.toHex(!0):this.toHex(!0,e,t,o,i),n="alias"===this.origFormat?s:this.toString(!1,this.origFormat)
for(var a in this.colors)if(r=this.colors[a].toLowerCase().trim(),r===s||r===n)return a
return!1},RGBtoHSB:function(e,t,o,i){var r,s,n,a
return e/=255,t/=255,o/=255,n=Math.max(e,t,o),a=n-Math.min(e,t,o),r=0===a?null:n===e?(t-o)/a:n===t?(o-e)/a+2:(e-t)/a+4,r=(r+360)%6*60/360,s=0===a?0:a/n,{h:this._sanitizeNumber(r),s:s,b:n,a:this._sanitizeNumber(i)}},HueToRGB:function(e,t,o){return o<0?o+=1:o>1&&(o-=1),6*o<1?e+(t-e)*o*6:2*o<1?t:3*o<2?e+(t-e)*(2/3-o)*6:e},HSLtoRGB:function(e,t,o,i){var r
t<0&&(t=0),r=o<=.5?o*(1+t):o+t-o*t
var s=2*o-r,n=e+1/3,a=e,l=e-1/3,c=Math.round(255*this.HueToRGB(s,r,n)),h=Math.round(255*this.HueToRGB(s,r,a)),u=Math.round(255*this.HueToRGB(s,r,l))
return[c,h,u,this._sanitizeNumber(i)]},parse:function(t){if("string"!=typeof t)return this.fallbackValue
if(0===arguments.length)return!1
var o,i,r=this,s=!1,n=void 0!==this.colors[t]
return n&&(t=this.colors[t].toLowerCase().trim()),e.each(this.stringParsers,(function(e,a){var l=a.re.exec(t)
return o=l&&a.parse.apply(r,[l]),!o||(s={},i=n?"alias":a.format?a.format:r.getValidFallbackFormat(),s=i.match(/hsla?/)?r.RGBtoHSB.apply(r,r.HSLtoRGB.apply(r,o)):r.RGBtoHSB.apply(r,o),s instanceof Object&&(s.format=i),!1)})),s},getValidFallbackFormat:function(){var e=["rgba","rgb","hex","hsla","hsl"]
return this.origFormat&&-1!==e.indexOf(this.origFormat)?this.origFormat:this.fallbackFormat&&-1!==e.indexOf(this.fallbackFormat)?this.fallbackFormat:"rgba"},toString:function(e,o,i){o=o||this.origFormat||this.fallbackFormat,i=i||!1
var r=!1
switch(o){case"rgb":return r=this.toRGB(),this.rgbaIsTransparent(r)?"transparent":"rgb("+r.r+","+r.g+","+r.b+")"
case"rgba":return r=this.toRGB(),"rgba("+r.r+","+r.g+","+r.b+","+r.a+")"
case"hsl":return r=this.toHSL(),"hsl("+Math.round(360*r.h)+","+Math.round(100*r.s)+"%,"+Math.round(100*r.l)+"%)"
case"hsla":return r=this.toHSL(),"hsla("+Math.round(360*r.h)+","+Math.round(100*r.s)+"%,"+Math.round(100*r.l)+"%,"+r.a+")"
case"hex":return this.toHex(e)
case"alias":return r=this.toAlias(),!1===r?this.toString(e,this.getValidFallbackFormat()):i&&!(r in t.webColors)&&r in this.predefinedColors?this.predefinedColors[r]:r
default:return r}},stringParsers:[{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(e){return[e[1],e[2],e[3],1]}},{re:/rgb\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/hsl\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/hsla\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1]}},{re:/#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),1]}}],colorNameToHex:function(e){return void 0!==this.colors[e.toLowerCase()]&&this.colors[e.toLowerCase()]}}
var o={horizontal:!1,inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",fallbackColor:!1,fallbackFormat:"hex",hexNumberSignPrefix:!0,sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div><div class="colorpicker-selectors"></div></div>',align:"right",customClass:null,colorSelectors:null},i=function(t,i){this.element=e(t).addClass("colorpicker-element"),this.options=e.extend(!0,{},o,this.element.data(),i),this.component=this.options.component,this.component=!1!==this.component&&this.element.find(this.component),this.component&&0===this.component.length&&(this.component=!1),this.container=!0===this.options.container?this.element:this.options.container,this.container=!1!==this.container&&e(this.container),this.input=this.element.is("input")?this.element:!!this.options.input&&this.element.find(this.options.input),this.input&&0===this.input.length&&(this.input=!1),this.color=this.createColor(!1!==this.options.color?this.options.color:this.getValue()),this.format=!1!==this.options.format?this.options.format:this.color.origFormat,!1!==this.options.color&&(this.updateInput(this.color),this.updateData(this.color)),this.disabled=!1
var r=this.picker=e(this.options.template)
if(this.options.customClass&&r.addClass(this.options.customClass),this.options.inline?r.addClass("colorpicker-inline colorpicker-visible"):r.addClass("colorpicker-hidden"),this.options.horizontal&&r.addClass("colorpicker-horizontal"),-1===["rgba","hsla","alias"].indexOf(this.format)&&!1!==this.options.format&&"transparent"!==this.getValue()||r.addClass("colorpicker-with-alpha"),"right"===this.options.align&&r.addClass("colorpicker-right"),!0===this.options.inline&&r.addClass("colorpicker-no-arrow"),this.options.colorSelectors){var s=this,n=s.picker.find(".colorpicker-selectors")
n.length>0&&(e.each(this.options.colorSelectors,(function(t,o){var i=e("<i />").addClass("colorpicker-selectors-color").css("background-color",o).data("class",t).data("alias",t)
i.on("mousedown.colorpicker touchstart.colorpicker",(function(t){t.preventDefault(),s.setValue("alias"===s.format?e(this).data("alias"):e(this).css("background-color"))})),n.append(i)})),n.show().addClass("colorpicker-visible"))}r.on("mousedown.colorpicker touchstart.colorpicker",e.proxy((function(e){e.target===e.currentTarget&&e.preventDefault()}),this)),r.find(".colorpicker-saturation, .colorpicker-hue, .colorpicker-alpha").on("mousedown.colorpicker touchstart.colorpicker",e.proxy(this.mousedown,this)),r.appendTo(this.container?this.container:e("body")),!1!==this.input&&(this.input.on({"keyup.colorpicker":e.proxy(this.keyup,this)}),this.input.on({"input.colorpicker":e.proxy(this.change,this)}),!1===this.component&&this.element.on({"focus.colorpicker":e.proxy(this.show,this)}),!1===this.options.inline&&this.element.on({"focusout.colorpicker":e.proxy(this.hide,this)})),!1!==this.component&&this.component.on({"click.colorpicker":e.proxy(this.show,this)}),!1===this.input&&!1===this.component&&this.element.on({"click.colorpicker":e.proxy(this.show,this)}),!1!==this.input&&!1!==this.component&&"color"===this.input.attr("type")&&this.input.on({"click.colorpicker":e.proxy(this.show,this),"focus.colorpicker":e.proxy(this.show,this)}),this.update(),e(e.proxy((function(){this.element.trigger("create")}),this))}
i.Color=t,i.prototype={constructor:i,destroy:function(){this.picker.remove(),this.element.removeData("colorpicker","color").off(".colorpicker"),!1!==this.input&&this.input.off(".colorpicker"),!1!==this.component&&this.component.off(".colorpicker"),this.element.removeClass("colorpicker-element"),this.element.trigger({type:"destroy"})},reposition:function(){if(!1!==this.options.inline||this.options.container)return!1
var e=this.container&&this.container[0]!==window.document.body?"position":"offset",t=this.component||this.element,o=t[e]()
"right"===this.options.align&&(o.left-=this.picker.outerWidth()-t.outerWidth()),this.picker.css({top:o.top+t.outerHeight(),left:o.left})},show:function(t){this.isDisabled()||(this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this.reposition(),e(window).on("resize.colorpicker",e.proxy(this.reposition,this)),!t||this.hasInput()&&"color"!==this.input.attr("type")||t.stopPropagation&&t.preventDefault&&(t.stopPropagation(),t.preventDefault()),!this.component&&this.input||!1!==this.options.inline||e(window.document).on({"mousedown.colorpicker":e.proxy(this.hide,this)}),this.element.trigger({type:"showPicker",color:this.color}))},hide:function(t){if(void 0!==t&&t.target&&(e(t.currentTarget).parents(".colorpicker").length>0||e(t.target).parents(".colorpicker").length>0))return!1
this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),e(window).off("resize.colorpicker",this.reposition),e(window.document).off({"mousedown.colorpicker":this.hide}),this.update(),this.element.trigger({type:"hidePicker",color:this.color})},updateData:function(e){return e=e||this.color.toString(!1,this.format),this.element.data("color",e),e},updateInput:function(e){return e=e||this.color.toString(!1,this.format),!1!==this.input&&(this.input.prop("value",e),this.input.trigger("change")),e},updatePicker:function(e){void 0!==e&&(this.color=this.createColor(e))
var t=!1===this.options.horizontal?this.options.sliders:this.options.slidersHorz,o=this.picker.find("i")
if(0!==o.length)return!1===this.options.horizontal?(t=this.options.sliders,o.eq(1).css("top",t.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",t.alpha.maxTop*(1-this.color.value.a))):(t=this.options.slidersHorz,o.eq(1).css("left",t.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",t.alpha.maxLeft*(1-this.color.value.a))),o.eq(0).css({top:t.saturation.maxTop-this.color.value.b*t.saturation.maxTop,left:this.color.value.s*t.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",this.color.toHex(!0,this.color.value.h,1,1,1)),this.picker.find(".colorpicker-alpha").css("backgroundColor",this.color.toHex(!0)),this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(!0,this.format)),e},updateComponent:function(e){var t
if(t=void 0!==e?this.createColor(e):this.color,!1!==this.component){var o=this.component.find("i").eq(0)
o.length>0?o.css({backgroundColor:t.toString(!0,this.format)}):this.component.css({backgroundColor:t.toString(!0,this.format)})}return t.toString(!1,this.format)},update:function(e){var t
return!1===this.getValue(!1)&&!0!==e||(t=this.updateComponent(),this.updateInput(t),this.updateData(t),this.updatePicker()),t},setValue:function(e){this.color=this.createColor(e),this.update(!0),this.element.trigger({type:"changeColor",color:this.color,value:e})},createColor:function(e){return new t(e||null,this.options.colorSelectors,this.options.fallbackColor?this.options.fallbackColor:this.color,this.options.fallbackFormat,this.options.hexNumberSignPrefix)},getValue:function(e){var t
return e=void 0===e?this.options.fallbackColor:e,t=this.hasInput()?this.input.val():this.element.data("color"),void 0!==t&&""!==t&&null!==t||(t=e),t},hasInput:function(){return!1!==this.input},isDisabled:function(){return this.disabled},disable:function(){return this.hasInput()&&this.input.prop("disabled",!0),this.disabled=!0,this.element.trigger({type:"disable",color:this.color,value:this.getValue()}),!0},enable:function(){return this.hasInput()&&this.input.prop("disabled",!1),this.disabled=!1,this.element.trigger({type:"enable",color:this.color,value:this.getValue()}),!0},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(t){!t.pageX&&!t.pageY&&t.originalEvent&&t.originalEvent.touches&&(t.pageX=t.originalEvent.touches[0].pageX,t.pageY=t.originalEvent.touches[0].pageY),t.stopPropagation(),t.preventDefault()
var o=e(t.target),i=o.closest("div"),r=this.options.horizontal?this.options.slidersHorz:this.options.sliders
if(!i.is(".colorpicker")){if(i.is(".colorpicker-saturation"))this.currentSlider=e.extend({},r.saturation)
else if(i.is(".colorpicker-hue"))this.currentSlider=e.extend({},r.hue)
else{if(!i.is(".colorpicker-alpha"))return!1
this.currentSlider=e.extend({},r.alpha)}var s=i.offset()
this.currentSlider.guide=i.find("i")[0].style,this.currentSlider.left=t.pageX-s.left,this.currentSlider.top=t.pageY-s.top,this.mousePointer={left:t.pageX,top:t.pageY},e(window.document).on({"mousemove.colorpicker":e.proxy(this.mousemove,this),"touchmove.colorpicker":e.proxy(this.mousemove,this),"mouseup.colorpicker":e.proxy(this.mouseup,this),"touchend.colorpicker":e.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(e){!e.pageX&&!e.pageY&&e.originalEvent&&e.originalEvent.touches&&(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.stopPropagation(),e.preventDefault()
var t=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((e.pageX||this.mousePointer.left)-this.mousePointer.left))),o=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((e.pageY||this.mousePointer.top)-this.mousePointer.top)))
return this.currentSlider.guide.left=t+"px",this.currentSlider.guide.top=o+"px",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,t/this.currentSlider.maxLeft),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,o/this.currentSlider.maxTop),!1!==this.options.format||"setAlpha"!==this.currentSlider.callTop&&"setAlpha"!==this.currentSlider.callLeft||(1!==this.color.value.a?(this.format="rgba",this.color.origFormat="rgba"):(this.format="hex",this.color.origFormat="hex")),this.update(!0),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(t){return t.stopPropagation(),t.preventDefault(),e(window.document).off({"mousemove.colorpicker":this.mousemove,"touchmove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup,"touchend.colorpicker":this.mouseup}),!1},change:function(e){this.color=this.createColor(this.input.val()),this.color.origFormat&&!1===this.options.format&&(this.format=this.color.origFormat),!1!==this.getValue(!1)&&(this.updateData(),this.updateComponent(),this.updatePicker()),this.element.trigger({type:"changeColor",color:this.color,value:this.input.val()})},keyup:function(e){38===e.keyCode?(this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0)):40===e.keyCode&&(this.color.value.a>0&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0)),this.element.trigger({type:"changeColor",color:this.color,value:this.input.val()})}},e.colorpicker=i,e.fn.colorpicker=function(t){var o=Array.prototype.slice.call(arguments,1),r=1===this.length,s=null,n=this.each((function(){var r=e(this),n=r.data("colorpicker"),a="object"==typeof t?t:{}
n||(n=new i(this,a),r.data("colorpicker",n)),"string"==typeof t?e.isFunction(n[t])?s=n[t].apply(n,o):(o.length&&(n[t]=o[0]),s=n[t]):s=r}))
return r?s:n},e.fn.colorpicker.constructor=i}))
